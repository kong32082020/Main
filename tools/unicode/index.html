<html>
	<head>
		<meta charset="utf-8">
		<title>Unicode转换</title>
		<style type="text/css">
			.header {
				display: inline;
			}
			.return {
				float: left;
				text-decoration: none;
				color: white;
				background: black;
				height: 50px;
				width: 5%;
				text-align: center;
				line-height: 50px;
				padding: 0px 15px;
			}
			.return:hover {
				background-color: #ddd;
				color: black;
			}
			.caption {
				background: #1abc9c;
				color: white;
				height: 50px;
				weight: 95%;
				text-align: center;
				padding: 0px 15px;
				font-size: 25px;
				font-weight: bold;
				line-height: 50px;
			}
			.textbox {
				margin-top: 15px;
				border-color: #c6cede;
				font-size: 25px;
				width: 50%;
				height: 80%;
			}
			.buttons {
				margin-top: 5px;
				width: 50px;
			}
			.buttxt {
				line-height: 250%;
				font-size: 15px;
			}
			.deafulttxt1 {
				color: #c0c1c4;
				position: absolute;
				top: 45px;
				left: 10px;
				font-size: 25px;
			}
			.deafulttxt2 {
				color: #c0c1c4;
				position: absolute;
				top: 45px;
				left: 50.5%;
				font-size: 25px;
			}
		</style>
		<script type="text/javascript">
			var deftxt1 = document.getElementsByClassName("deafulttxt1");
			var deftxt2 = document.getElementsByClassName("deafulttxt2");
			var txtbox1 = document.getElementById("from");
			var txtbox2 = document.getElementById("to");
			function hide_def1(){
				deftxt1.item(0).hidden = true;
			};
			function show_def1(){
				if(document.getElementById("from").value==""){
					deftxt1.item(0).hidden = false;
				}
			};
			function hide_def2(){
				deftxt2.item(0).hidden = true;
			};
			function show_def2(){
				if(document.getElementById("to").value==""){
					deftxt2.item(0).hidden = false;
				}
			};
			function hs_def1(){
				if(document.getElementById("from").value==""){
					deftxt1.item(0).hidden = false;
				}
				else{
					deftxt1.item(0).hidden = true;
				}
			};
			function hs_def2(){
				if(document.getElementById("to").value==""){
					deftxt2.item(0).hidden = false;
				}
				else{
					deftxt2.item(0).hidden = true;
				}
			};
			function fencode(){
				var text = document.getElementById( 'from' ).value;
				var basedtxt = escape(text);
				var finalresult = "";
				for (var i=0;i < basedtxt.length;i++)
				{
					var tmp = basedtxt.substr(i,1);
					if(tmp=="%") {
						finalresult = finalresult + "\\";
					} else {
						finalresult = finalresult + tmp;
					}
				}
				document.getElementById("to").value = finalresult;
				hs_def2()
			};
			function fdecode(){
				var finalresult = "";
				var basedtxt = "";
				var text = document.getElementById( 'to' ).value;
				for (var i=0;i < text.length;i++)
				{
					var tmp = text.substr(i,1);
					if(tmp=="\\") {
						basedtxt = basedtxt + "%";
					} else {
						basedtxt = basedtxt + tmp;
					}
				}
				var finalresult = unescape(basedtxt);
				document.getElementById("from").value = finalresult;
				hs_def1()
			};
		</script>
	</head>
	<body>
		<div class="header">
			<a href="../../index.html" class="return">返回</a>
			<div class="caption">Unicode转换</div>
		</div>
		<nobr>
			<textarea onfocus="hide_def1()" onblur="show_def1()" rows="15" style="resize:none" id="from" class="textbox"></textarea>
			<p class="deafulttxt1">原文</p>
			<textarea onfocus="hide_def2()" onblur="show_def2()" rows="15" style="resize:none" id="to" class="textbox"></textarea>
			<p class="deafulttxt2">Unicode</p>
			<div class="buttons">
				<button onclick="fencode()" class="button1"><div class="buttxt">中文转Unicode</div></button>
				<button onclick="fdecode()" class="button2"><div class="buttxt">Unicode转中文</div></button>
			</div>
		</nobr>
	</body>
</html>
